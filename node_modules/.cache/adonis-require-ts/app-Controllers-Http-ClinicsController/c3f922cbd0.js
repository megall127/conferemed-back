"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Clinic_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Clinic"));
class ClinicsController {
    async create({ request }) {
        const user = new Clinic_1.default();
        user.name = request.input('name');
        user.local = request.input('local');
        user.cep = request.input('cep');
        await user.save();
    }
    async getAllClinics({ auth }) {
        const check = await auth.use('api').authenticate();
        if (check) {
            return Clinic_1.default.all();
        }
        else {
            return "Nao Permitido";
        }
    }
}
exports.default = ClinicsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpbmljc0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJDbGluaWNzQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLHFGQUFzQztBQUV0QyxNQUFxQixpQkFBaUI7SUFFM0IsS0FBSyxDQUFDLE1BQU0sQ0FBRSxFQUFDLE9BQU8sRUFBc0I7UUFFL0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxnQkFBTSxFQUFFLENBQUE7UUFFekIsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ2pDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7UUFFL0IsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckIsQ0FBQztJQUdNLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBQyxJQUFJLEVBQXNCO1FBRWxELE1BQU0sS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtRQUVsRCxJQUFHLEtBQUssRUFBQztZQUNMLE9BQU8sZ0JBQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQTtTQUN0QjthQUFNO1lBQ0gsT0FBTyxlQUFlLENBQUE7U0FDekI7SUFDTCxDQUFDO0NBRUo7QUF6QkQsb0NBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCc7XHJcbmltcG9ydCBDbGluaWMgZnJvbSAnQXBwL01vZGVscy9DbGluaWMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGluaWNzQ29udHJvbGxlciB7XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNyZWF0ZSgge3JlcXVlc3R9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgQ2xpbmljKClcclxuXHJcbiAgICAgICAgdXNlci5uYW1lID0gcmVxdWVzdC5pbnB1dCgnbmFtZScpXHJcbiAgICAgICAgdXNlci5sb2NhbCA9IHJlcXVlc3QuaW5wdXQoJ2xvY2FsJylcclxuICAgICAgICB1c2VyLmNlcCA9IHJlcXVlc3QuaW5wdXQoJ2NlcCcpXHJcblxyXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBnZXRBbGxDbGluaWNzKHthdXRofTogSHR0cENvbnRleHRDb250cmFjdCkge1xyXG5cclxuICAgICAgICBjb25zdCBjaGVjayA9IGF3YWl0IGF1dGgudXNlKCdhcGknKS5hdXRoZW50aWNhdGUoKVxyXG5cclxuICAgICAgICBpZihjaGVjayl7XHJcbiAgICAgICAgICAgIHJldHVybiBDbGluaWMuYWxsKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOYW8gUGVybWl0aWRvXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==